/*! iFrame Resizer (iframeSizer.min.js ) - v4.3.2 - 2021-10-18
 *  Copyright: (c) 2021 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT
 */ !function(e){var n,t,i,o,r,a,s,c,f,l,d,u,m,g;function h(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function p(e,n,t){e.addEventListener(n,t,!1)}function b(e,n,t){e.removeEventListener(n,t,!1)}function y(e){return l[e]?l[e].log:t}function v(e,n){_("log",e,n,y(e))}function $(e,n){_("info",e,n,y(e))}function w(e,n){_("warn",e,n,!0)}function _(e,n,t,i){var o,a;!0===i&&"object"==typeof window.console&&console[e](r+"["+(o="Host page: "+(a=o=n),o=window.top!==window.self?window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+a:"Nested host page: "+a:o)+"]",t)}function x(e){function n(){t("Height"),t("Width"),W(function(){O(A),I(B),h("onResized",A)},A,"init")}function t(e){var n=Number(l[B]["max"+e]),t=Number(l[B]["min"+e]),i=e.toLowerCase(),e=Number(A[i]);v(B,"Checking "+i+" is in range "+t+"-"+n),e<t&&(e=t,v(B,"Set "+i+" to min value")),n<e&&(e=n,v(B,"Set "+i+" to max value")),A[i]=""+e}function i(e){return L.substr(L.indexOf(":")+o+e)}function c(e,n){var t,i,o;t=function(){var t,i;T("Send Page Info","pageInfo:"+(t=document.body.getBoundingClientRect(),JSON.stringify({iframeHeight:(i=A.iframe.getBoundingClientRect()).height,iframeWidth:i.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(i.top-t.top,10),offsetLeft:parseInt(i.left-t.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})),e,n)},i=32,m[o=n]||(m[o]=setTimeout(function(){m[o]=null,t()},i))}function f(e){return e=e.getBoundingClientRect(),M(B),{x:Math.floor(Number(e.left)+Number(s.x)),y:Math.floor(Number(e.top)+Number(s.y))}}function d(e){var n=e?f(A.iframe):{x:0,y:0},t={x:Number(A.width)+n.x,y:Number(A.height)+n.y};v(B,"Reposition requested from iFrame (offset x:"+n.x+" y:"+n.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(e?"Offset":"")](t.x,t.y):w(B,"Unable to scroll to requested position, window.parentIFrame not found"):(s=t,u(),v(B,"--"))}function u(){!1!==h("onScroll",s)?I(B):R()}function g(e){var n,t={};t=0===Number(A.width)&&0===Number(A.height)?{x:(n=i(9).split(":"))[1],y:n[0]}:{x:A.width,y:A.height},h(e,{iframe:A.iframe,screenX:Number(t.x),screenY:Number(t.y),type:A.type})}function h(e,n){return k(B,e,n)}var y,_,x,F,H,S,P,j,L=e.data,A={},B=null;"[iFrameResizerChild]Ready"===L?function(){for(var e in l)T("iFrame requested init",C(e),l[e].iframe,e)}():r===(""+L).substr(0,a)&&L.substr(a).split(":")[0]in l?(l[B=(A=(S=(H=L.substr(a).split(":"))[1]?parseInt(H[1],10):0,j=getComputedStyle(P=l[H[0]]&&l[H[0]].iframe),{iframe:P,id:H[0],height:S+function(e){if("border-box"!==e.boxSizing)return 0;var n=e.paddingTop?parseInt(e.paddingTop,10):0,e=e.paddingBottom?parseInt(e.paddingBottom,10):0;return n+e}(j)+function(e){if("border-box"!==e.boxSizing)return 0;var n=e.borderTopWidth?parseInt(e.borderTopWidth,10):0,e=e.borderBottomWidth?parseInt(e.borderBottomWidth,10):0;return n+e}(j),width:H[2],type:H[3]})).id]&&(l[B].loaded=!0),(F=A.type in{true:1,false:1,undefined:1})&&v(B,"Ignoring init message from meta parent page"),!F&&(x=!0,l[_=B]||(x=!1,w(A.type+" No settings for "+_+". Message was: "+L)),x)&&(v(B,"Received: "+L),y=!0,null===A.iframe&&(w(B,"IFrame ("+A.id+") not found"),y=!1),y&&function n(){var t,i=e.origin,o=l[B]&&l[B].checkOrigin;if(o&&""+i!="null"&&!(o.constructor===Array?function(){var e=0,n=!1;for(v(B,"Checking connection is from allowed list of origins: "+o);e<o.length;e++)if(o[e]===i){n=!0;break}return n}():(t=l[B]&&l[B].remoteHost,v(B,"Checking connection is from: "+t),i===t)))throw Error("Unexpected message received from: "+i+" for "+A.iframe.id+". Message was: "+e.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return 1}()&&function e(){var t,o,r,a,m,y,$;switch(l[B]&&l[B].firstRun&&l[B]&&(l[B].firstRun=!1),A.type){case"close":z(A.iframe);break;case"message":o=i(6),v(B,"onMessage passed: {iframe: "+A.iframe.id+", message: "+o+"}"),h("onMessage",{iframe:A.iframe,message:JSON.parse(o)}),v(B,"--");break;case"mouseenter":g("onMouseEnter");break;case"mouseleave":g("onMouseLeave");break;case"autoResize":l[B].autoResize=JSON.parse(i(9));break;case"scrollTo":d(!1);break;case"scrollToOffset":d(!0);break;case"pageInfo":c(l[B]&&l[B].iframe,B),t=B,_("Add ",p),l[t]&&(l[t].stopPageInfo=x);break;case"pageInfoStop":l[B]&&l[B].stopPageInfo&&(l[B].stopPageInfo(),delete l[B].stopPageInfo);break;case"inPageLink":i(9),y=decodeURIComponent(m=y.split("#")[1]||""),($=document.getElementById(y)||document.getElementsByName(y)[0])?(a=f($),v(B,"Moving to in page link (#"+m+") at x: "+a.x+" y: "+a.y),s={x:a.x,y:a.y},u(),v(B,"--")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(m):v(B,"In page link #"+m+" not found and window.parentIFrame not found"):v(B,"In page link #"+m+" not found");break;case"reset":E(A);break;case"init":n(),h("onInit",A.iframe);break;default:0===Number(A.width)&&0===Number(A.height)?w("Unsupported message received ("+A.type+"), this is likely due to the iframe containing a later version of iframe-resizer than the parent page"):n()}function _(e,n){function i(){l[t]?c(l[t].iframe,t):x()}["scroll","resize"].forEach(function(o){v(t,e+o+" listener for sendPageInfo"),n(window,o,i)})}function x(){_("Remove ",b)}}())):$(B,"Ignored: "+L)}function k(e,n,t){var i=null,o=null;if(l[e]){if("function"!=typeof(i=l[e][n]))throw TypeError(n+" on iFrame["+e+"] is not a function");o=i(t)}return o}function F(e){delete l[e=e.id]}function z(e){var n=e.id;if(!1!==k(n,"onClose",n)){v(n,"Removing iFrame: "+n);try{e.parentNode&&e.parentNode.removeChild(e)}catch(t){w(t)}k(n,"onClosed",n),v(n,"--"),F(e)}else v(n,"Close iframe cancelled by onClose event")}function M(n){null===s&&v(n,"Get page position: "+(s={x:window.pageXOffset!==e?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==e?window.pageYOffset:document.documentElement.scrollTop}).x+","+s.y)}function I(e){null!==s&&(window.scrollTo(s.x,s.y),v(e,"Set page position: "+s.x+","+s.y),R())}function R(){s=null}function E(e){v(e.id,"Size reset requested by "+("init"===e.type?"host page":"iFrame")),M(e.id),W(function(){O(e),T("reset","reset",e.iframe,e.id)},e,"reset")}function O(e){function n(n){var o;o=n,e.id?(e.iframe.style[o]=e[o]+"px",v(e.id,"IFrame ("+t+") "+o+" set to "+e[o]+"px")):v("undefined","messageData id not set"),function n(o){var r,a;function s(){Object.keys(l).forEach(function(e){var n;function t(e){return"0px"===(l[n]&&l[n].iframe.style[e])}l[n=e]&&null!==l[n].iframe.offsetParent&&(t("height")||t("width"))&&T("Visibility change","resize",l[n].iframe,n)})}i||"0"!==e[o]||(i=!0,v(t,"Hidden iFrame detected, creating visibility listener"),(r=h())&&(a=document.querySelector("body"),new r(function e(n){v("window","Mutation observed: "+n[0].target+" "+n[0].type),S(s,16)}).observe(a,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})))}(n)}var t=e.iframe.id;l[t]&&(l[t].sizeHeight&&n("height"),l[t].sizeWidth&&n("width"))}function W(e,n,t){t!==n.type&&c&&!window.jasmine?(v(n.id,"Requesting animation frame"),c(e)):e()}function T(e,n,t,i,o){var a,s=!1;l[i=i||t.id]&&(t&&"contentWindow"in t&&null!==t.contentWindow?(a=l[i]&&l[i].targetOrigin,v(i,"["+e+"] Sending msg to iframe["+i+"] ("+n+") targetOrigin: "+a),t.contentWindow.postMessage(r+n,a)):w(i,"["+e+"] IFrame("+i+") not found"),o&&l[i]&&l[i].warningTimeout&&(l[i].msgTimeout=setTimeout(function(){!l[i]||l[i].loaded||s||(s=!0,w(i,"IFrame has not responded within "+l[i].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))},l[i].warningTimeout)))}function C(e){return e+":"+l[e].bodyMarginV1+":"+l[e].sizeWidth+":"+l[e].log+":"+l[e].interval+":"+l[e].enablePublicMethods+":"+l[e].autoResize+":"+l[e].bodyMargin+":"+l[e].heightCalculationMethod+":"+l[e].bodyBackground+":"+l[e].bodyPadding+":"+l[e].tolerance+":"+l[e].inPageLinks+":"+l[e].resizeFrom+":"+l[e].widthCalculationMethod+":"+l[e].mouseEvents}function H(i,o){var r,a,s,c,d,m,g=(""===(d=i.id)&&(i.id=(m=o&&o.id||u.id+n++,null!==document.getElementById(m)&&(m+=n++),d=m),t=(o||{}).log,v(d,"Added missing iframe ID: "+d+" ("+i.src+")")),d);function b(e){var n=l[g][e];1/0!==n&&0!==n&&(i.style[e]="number"==typeof n?n+"px":n,v(g,"Set "+e+" = "+i.style[e]))}function y(e){if(l[g]["min"+e]>l[g]["max"+e])throw Error("Value for min"+e+" can not be greater than max"+e)}g in l&&"iFrameResizer"in i?w(g,"Ignored iFrame, already setup."):(r=(r=o)||{},l[g]={firstRun:!0,iframe:i,remoteHost:i.src&&i.src.split("/").slice(0,3).join("/")},function(e){if("object"!=typeof e)throw TypeError("Options is not an object")}(r),Object.keys(r).forEach(function e(n){var t=n.split("Callback");2===t.length&&(this[t="on"+t[0].charAt(0).toUpperCase()+t[0].slice(1)]=this[n],delete this[n],w(g,"Deprecated: '"+n+"' has been renamed '"+t+"'. The old method will be removed in the next major version."))},r),function(e){for(var n in u)Object.prototype.hasOwnProperty.call(u,n)&&(l[g][n]=(Object.prototype.hasOwnProperty.call(e,n)?e:u)[n])}(r),l[g]&&(l[g].targetOrigin=!0===l[g].checkOrigin?""===(r=l[g].remoteHost)||null!==r.match(/^(about:blank|javascript:|file:\/\/)/)?"*":r:"*"),function(){switch(v(g,"IFrame scrolling "+(l[g]&&l[g].scrolling?"enabled":"disabled")+" for "+g),i.style.overflow=!1===(l[g]&&l[g].scrolling)?"hidden":"auto",l[g]&&l[g].scrolling){case"omit":break;case!0:i.scrolling="yes";break;case!1:i.scrolling="no";break;default:i.scrolling=l[g]?l[g].scrolling:"no"}}(),y("Height"),y("Width"),b("maxHeight"),b("minHeight"),b("maxWidth"),b("minWidth"),"number"!=typeof(l[g]&&l[g].bodyMargin)&&"0"!==(l[g]&&l[g].bodyMargin)||(l[g].bodyMarginV1=l[g].bodyMargin,l[g].bodyMargin=l[g].bodyMargin+"px"),a=C(g),(c=h())&&(s=c,i.parentNode&&new s(function(e){e.forEach(function(e){Array.prototype.slice.call(e.removedNodes).forEach(function(e){e===i&&z(i)})})}).observe(i.parentNode,{childList:!0})),p(i,"load",function(){var n,t;T("iFrame.onload",a,i,e,!0),n=l[g]&&l[g].firstRun,t=l[g]&&l[g].heightCalculationMethod in f,!n&&t&&E({iframe:i,height:0,width:0,type:"init"})}),T("init",a,i,e,!0),l[g]&&(l[g].iframe.iFrameResizer={close:z.bind(null,l[g].iframe),removeListeners:F.bind(null,l[g].iframe),resize:T.bind(null,"Window resize","resize",l[g].iframe),moveToAnchor:function(e){T("Move to anchor","moveToAnchor:"+e,l[g].iframe,g)},sendMessage:function(e){T("Send Message","message:"+(e=JSON.stringify(e)),l[g].iframe,g)}}))}function S(e,n){null===d&&(d=setTimeout(function(){d=null,e()},n))}function P(){"hidden"!==document.visibilityState&&(v("document","Trigger event: Visibility change"),S(function(){j("Tab Visible","resize")},16))}function j(e,n){Object.keys(l).forEach(function(t){var i;l[i=t]&&"parent"===l[i].resizeFrom&&l[i].autoResize&&!l[i].firstRun&&T(e,n,l[t].iframe,t)})}function L(){var n;function t(e,t){t&&(function(){if(!t.tagName)throw TypeError("Object is not a valid DOM element");if("IFRAME"!==t.tagName.toUpperCase())throw TypeError("Expected <IFRAME> tag, found <"+t.tagName+">")}(),H(t,e),n.push(t))}return function(){for(var e=["moz","webkit","o","ms"],n=0;n<e.length&&!c;n+=1)c=window[e[n]+"RequestAnimationFrame"];c?c=c.bind(window):v("setup","RequestAnimationFrame not supported")}(),p(window,"message",x),p(window,"resize",function(){var e;v("window","Trigger event: "+(e="resize")),S(function(){j("Window "+e,"resize")},16)}),p(document,"visibilitychange",P),p(document,"-webkit-visibilitychange",P),function(i,o){var r;switch(n=[],(r=i)&&r.enablePublicMethods&&w("enablePublicMethods option has been removed, public methods are now always available in the iFrame"),typeof o){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(o||"iframe"),t.bind(e,i));break;case"object":t(i,o);break;default:throw TypeError("Unexpected data type ("+typeof o+")")}return n}}"undefined"!=typeof window&&(o=7,a=(r="[iFrameSizer]").length,c=window.requestAnimationFrame,u={autoResize:(d=s=null,!0),bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:(i=t=!1,!0),inPageLinks:(l={},!1),enablePublicMethods:(n=0,!0),heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:(f={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},!1),maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mouseEvents:!0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){w("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}},m={},window.jQuery&&((g=window.jQuery).fn?g.fn.iFrameResize||(g.fn.iFrameResize=function(e){return this.filter("iframe").each(function(n,t){H(t,e)}).end()}):$("","Unable to bind to jQuery, it is not fully loaded.")),"function"==typeof define&&define.amd?define([],L):"object"==typeof module&&"object"==typeof module.exports&&(module.exports=L()),window.iFrameResize=window.iFrameResize||L())}(),window.addEventListener("load",function(){document.querySelectorAll('[data-w-type="embedded"]').forEach(e=>{window.iFrameResize({checkOrigin:!1},e)})});